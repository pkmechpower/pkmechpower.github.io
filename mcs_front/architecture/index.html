
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../common/can/message_definition_guide/">
      
      
        <link rel="next" href="../state_machine/">
      
      
      <link rel="icon" href="../../media/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Architecture - PK MechPower Codebase</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/mkdocs_puml/puml.css">
    
      <link rel="stylesheet" href="../../assets/mkdocs_puml/interaction.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mcs_front-architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PK MechPower Codebase" class="md-header__button md-logo" aria-label="PK MechPower Codebase" data-md-component="logo">
      
  <img src="../../media/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PK MechPower Codebase
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Architecture
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/pkmechpower/Codebase" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    pkmechpower/Codebase
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../library/torque_map/" class="md-tabs__link">
          
  
  
  Library

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../common/can/can/" class="md-tabs__link">
          
  
  
  Common

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  MCS_Front

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mcs_back/architecture/" class="md-tabs__link">
          
  
  
  MCS_Back

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PK MechPower Codebase" class="md-nav__button md-logo" aria-label="PK MechPower Codebase" data-md-component="logo">
      
  <img src="../../media/favicon.ico" alt="logo">

    </a>
    PK MechPower Codebase
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pkmechpower/Codebase" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    pkmechpower/Codebase
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Library
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../library/torque_map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Torque Map
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Common
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Common
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CAN
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            CAN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../common/can/can/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CAN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../common/can/message_definition_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Message definition guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    MCS_Front
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            MCS_Front
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#high-level-system-design" class="md-nav__link">
    <span class="md-ellipsis">
      High Level System Design
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      High Level Data Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-tier-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      First tier tasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Application tasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synchronization-and-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Synchronization and data flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#process-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Process Inputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Process Inputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#analog-sensors" class="md-nav__link">
    <span class="md-ellipsis">
      Analog sensors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pwm-signals" class="md-nav__link">
    <span class="md-ellipsis">
      PWM signals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-buttons" class="md-nav__link">
    <span class="md-ellipsis">
      Process Buttons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Network Manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application" class="md-nav__link">
    <span class="md-ellipsis">
      Application
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#handling-faults" class="md-nav__link">
    <span class="md-ellipsis">
      Handling faults
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui" class="md-nav__link">
    <span class="md-ellipsis">
      UI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indicators-control" class="md-nav__link">
    <span class="md-ellipsis">
      Indicators Control
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../state_machine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    State Machine
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MCS_Back
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            MCS_Back
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mcs_back/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#high-level-system-design" class="md-nav__link">
    <span class="md-ellipsis">
      High Level System Design
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      High Level Data Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-tier-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      First tier tasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Application tasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synchronization-and-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Synchronization and data flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Tasks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#process-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      Process Inputs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Process Inputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#analog-sensors" class="md-nav__link">
    <span class="md-ellipsis">
      Analog sensors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pwm-signals" class="md-nav__link">
    <span class="md-ellipsis">
      PWM signals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-buttons" class="md-nav__link">
    <span class="md-ellipsis">
      Process Buttons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Network Manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application" class="md-nav__link">
    <span class="md-ellipsis">
      Application
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#handling-faults" class="md-nav__link">
    <span class="md-ellipsis">
      Handling faults
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui" class="md-nav__link">
    <span class="md-ellipsis">
      UI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indicators-control" class="md-nav__link">
    <span class="md-ellipsis">
      Indicators Control
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="mcs_front-architecture">MCS_Front - Architecture</h1>
<h2 id="high-level-system-design">High Level System Design</h2>
<p><img alt="High level system design diagram" src="../media/high_level_system_design.svg" title="High level system design diagram" /></p>
<h2 id="high-level-data-flow">High Level Data Flow</h2>
<p><img alt="High level data flow" src="../media/high_level_data_flow.svg" title="High level data flow" /></p>
<h2 id="first-tier-tasks">First tier tasks</h2>
<p><img alt="First tier tasks" src="../media/first_tier_tasks.svg" title="First tier tasks" /></p>
<h2 id="application-tasks">Application tasks</h2>
<p><img alt="Application tasks" src="../media/application_tasks.svg" title="Application tasks" /></p>
<h2 id="synchronization-and-data-flow">Synchronization and data flow</h2>
<p><img alt="Synchronization and data flow" src="../media/synchronization_and_data_flow.svg" title="Synchronization and data flow" /></p>
<h2 id="tasks">Tasks</h2>
<h3 id="process-inputs">Process Inputs</h3>
<p><img alt="Process Inputs Task" src="../media/tasks/process_inputs_task.svg" title="Process Inputs Task" /></p>
<p>Process Inputs task takes care of processing sensors measurements and digital input states to a meaningful data or events, that are then used by the <a href="#application">Application</a>. Processed analog and speed measurements are stored in the <em>Process data store</em>. This structure is protected by a <strong>mutex</strong>. This <strong>mutex</strong> can be taken either by this task or <a href="#application">Application</a>. <a href="#application">Application</a> should be informed when new data has been written to this structure. This information should be passed via a <strong>queue</strong>. Events that are generated based on button (digital input) states, are also passed to <a href="#application">Application</a> via a <strong>queue</strong>.</p>
<h4 id="analog-sensors">Analog sensors</h4>
<p>Each time the DMA finishes full ADC reading cycle, it should enqueue new data to the <a href="#process-inputs">Process Inputs</a> <strong>queue</strong>.</p>
<h4 id="pwm-signals">PWM signals</h4>
<p>Wheel speed sensors are the only sources of PWM signals. Based on the rising and falling edges of these signals, the actual wheel speed should be calculated inside the interrupt routine and then enqueued to <a href="#process-inputs">Process Inputs</a>. <a href="#process-inputs">Process Inputs</a> should monitor when he received the last speed measurement. If there's no new update of speed for some precalculated, realistic time, the value of speed measurement stored in <em>Process data store</em> should be set to 0.</p>
<hr />
<h3 id="process-buttons">Process Buttons</h3>
<p><img alt="Process Buttons Task" src="../media/tasks/process_buttons_task.svg" title="Process Buttons Task" /></p>
<p>Digital inputs should be periodically read by the <a href="#process-buttons">Process Buttons</a>. This task should implement software debouncing, so the button needs to be pushed or released continuously for a predefined period of time for the transition to be detected. If the transition is detected, an event about such transition should be enqueued to <a href="#application">Application</a>. For some buttons, e.g. <strong>R2D</strong> there should be an additional long press detection implemented, so that if the button is pressed for a long (predefined) period of time, additional event is enqueued for the <a href="#application">Application</a> informing about it. It will be needed so to prevent driver from mistakenly pushing the button and leaving the R2D mode during the race.</p>
<hr />
<h3 id="network-manager">Network Manager</h3>
<p>Network Manager is common between different MechPower created boards. Further information about this task can be found on <a href="../../common/can/can/">CAN page</a>.</p>
<hr />
<h3 id="application">Application</h3>
<p><img alt="Application Task" src="../media/tasks/application_task.svg" title="Application Task" /></p>
<p>Application Task performs mainly two functions. It runs the <a href="../state_machine/">state machine</a> and analyzes faults coming from the <a href="#network-manager">Network Manager</a>.</p>
<h4 id="handling-faults">Handling faults</h4>
<p>Statuses of different car elements are interpreted by the <em>Fault Interpreter</em> block indicated on the diagram. It stores the current state (faulty or fault free) of: motors, motor drivers, insulation monitoring device, accumulator management system and other internal signals.
If any of these states change, a corresponding flag is raised and sent to the <a href="#indicators-control">Indicators Control</a> task.</p>
<p>Also, when there are any faults present, they are sorted by their severity. The most severe one is sent to the state machine, which can then prevent driver from entering the TS activated or R2D modes. It's also sent to the <a href="#ui">UI</a>, to be presented for the driver.</p>
<hr />
<h3 id="ui">UI</h3>
<p><img alt="UI Task" src="../media/tasks/ui_task.svg" title="UI Task" /></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>TODO</p>
</div>
<p>UI task should interpret messages enqueued to it. These message can either change screens or data displayed on these screens. It should act as a gateway to the TouchGFX generated code/task.</p>
<hr />
<h3 id="indicators-control">Indicators Control</h3>
<p><img alt="Indicators Control Task" src="../media/tasks/indicators_control_task.svg" title="Indicators Control Task" /></p>
<p>Indicators Control Task continuously reads the queue, listening for fault events. These events can either set or clear faults, which are then displayed to the driver via LED indicators.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 PK MechPower
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../assets/mkdocs_puml/puml.js"></script>
      
        <script src="https://unpkg.com/@panzoom/panzoom@4.5.1/dist/panzoom.min.js"></script>
      
        <script src="../../assets/mkdocs_puml/interaction.js"></script>
      
    
  </body>
</html>